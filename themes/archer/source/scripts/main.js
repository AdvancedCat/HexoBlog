!function(e){var t={};function s(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,s.c=t,s.p="",s(0)}([function(e,t,s){"use strict";var a,i=s(1),n=s(2),o=s(3),r=s(4),d=s(5),l=s(7),c=(a=l)&&a.__esModule?a:{default:a};(0,i.init)(),(0,n.toggleHeader)(),(0,r.sidebarInit)(),(0,d.initTag)(),(0,o.initMobile)(),c.default.initBigImg()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});document.addEventListener("DOMContentLoaded",function(){document.getElementsByClassName("container")[0].classList.remove("container-unloaded"),document.getElementsByClassName("container")[0].classList.add("container-footer-fade-in"),document.getElementsByClassName("footer")[0].classList.remove("footer-unloaded"),document.getElementsByClassName("footer")[0].classList.add("container-footer-fade-in"),document.getElementsByClassName("loading")[0].style.display="none"},!1),t.init=function(){var e=$(".site-intro-img:first"),t=$(".site-intro-placeholder:first"),s=e.css("background-image").match(/url\("*([^"]*)"*\)/);if(s.length<2)console.log(s);else{var a=s[1],i=new Image;i.onload=function(){t.remove(),console.info("PLACEHOLDER REMOVED")},i.src=a}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toggleHeader=function(){var e=0;void 0!==document.getElementsByClassName("post-body")[0]&&(e=1);var t=$(".banner:first"),s=t.find(".post-title a"),a=$(".site-intro:first"),i=$(".home-link:first"),n=$(".back-top:first"),o=$(".header-sidebar-menu:first"),r=a.offset().top+a.outerHeight(),d=$(".toc-wrapper:first");d.find(".toc-catalog").on("click",function(){d.find(".toc").toggleClass("toc-hide")});var l=0,c=0;var f=-1,u=!0;var h=!1;function m(s){h||(requestAnimationFrame(function(){var a=$(document).scrollTop(),m=function(e){if(e>r){if(1!==f)return f=1,u=!1,1}else if(-1!==f)return f=-1,u=!0,-1;return 0}(a);if(1==m?(d.addClass("toc-fixed"),i.addClass("home-link-hide"),n.addClass("back-top-show"),o.addClass("header-sidebar-menu-black")):-1==m&&(d.removeClass("toc-fixed"),i.removeClass("home-link-hide"),t.removeClass("banner-show"),n.removeClass("back-top-show"),o.removeClass("header-sidebar-menu-black")),e){var p=(c+=a-l)>50?(c=0,1):c<-50?(c=0,-1):0;1==p?t.removeClass("banner-show"):-1!=p||u||t.addClass("banner-show")}l=$(s).scrollTop(),h=!1}),h=!0)}function p(e){e.preventDefault();var t=setInterval(function(){var e=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*e))),0===e&&clearInterval(t)},20)}$(document).on("scroll",function(){m(this)}),[s,n].forEach(function(e){e.on("click",p)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initMobile=function(){if(window.matchMedia){var e=window.matchMedia("(max-width: 900px)");e.addListener(t),t(e)}else window.addListener("resize",function(){t((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900?{matches:!1}:{matches:!0})},!1);function t(e){e.matches?(console.log("mobile"),document.body.addEventListener("touchstart",function(){})):console.log("desktop")}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sidebarInit=function(){var e=$(".sidebar:first"),t=$(".wrapper:first"),s=$(".header-sidebar-menu:first"),a=e.find(".sidebar-content:first"),i=e.find(".sidebar-archive-link:first"),n=e.find(".sidebar-tags-link:first"),o=$(".toc-wrapper:first"),r=$(".header:first"),d=e.find(".sidebar-header:first");function l(e){this.scrollHeight==this.clientHeight?window.event.preventDefault():this.scrollTop<=0?e.originalEvent.wheelDelta>0&&window.event.preventDefault():this.scrollTop>=this.scrollHeight-this.clientHeight&&e.originalEvent.wheelDelta<0&&window.event.preventDefault()}s.on("click",function(s){var a;a=s,e.addClass("sidebar-show"),t.addClass("wrapper-show-sidebar"),r.addClass("header-slide"),o.addClass("toc-slide"),a.stopPropagation()}),e.on("click",function(e){e.stopPropagation()}),t.on("click",function(s){e.hasClass("sidebar-show")&&(s.preventDefault(),e.removeClass("sidebar-show"),r.removeClass("header-slide"),t.removeClass("wrapper-show-sidebar"),o.removeClass("toc-slide"))}),i.on("click",function(){a.addClass("sidebar-content-show-archive").removeClass("sidebar-content-show-tags sidebar-show-immediately"),d.addClass("sidebar-header-show-archive").removeClass("sidebar-header-show-tags sidebar-show-immediately")}),n.on("click",function(){a.addClass("sidebar-content-show-tags").removeClass("sidebar-content-show-archive sidebar-show-immediately"),d.addClass("sidebar-header-show-tags").removeClass("sidebar-header-show-archive sidebar-show-immediately")}),e.on("mousewheel",function(t){var s=t.target,a=e.find(".sidebar-tag-list:first"),i=e.find(".sidebar-archive:first");$.contains(a[0],s)||a===s?l.call(a[0],t):$.contains(i[0],s)||i===s?l.call(i[0],t):t.preventDefault()});var c=$(".sidebar-tags-name:first")[0];$(".post-tag").on("click",function(t){var i,o;i=!1,o=new MouseEvent("click",{bubbles:!0,cancelable:!0}),i=!(!d.hasClass("sidebar-header-show-archive")||e.hasClass("sidebar-show")),s[0].dispatchEvent(o),n[0].dispatchEvent(o),i&&(d.addClass("sidebar-show-immediately"),a.addClass("sidebar-show-immediately"));var r,l,f=t.target.dataset.href;r=f,l=new MouseEvent("click",{bubbles:!0,cancelable:!0}),s[0].dispatchEvent(l),c.currTagName=r,c.dispatchEvent(l),t.stopPropagation()})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTag=void 0;var a=s(6);t.initTag=function(){var e=void 0,t=new Map;!function(){var s=jsInfo.root+"content.json?t="+ +new Date,a=new XMLHttpRequest;a.responseType="",a.open("get",s,!0);var i=$(".tag-load-fail:first");a.onload=function(){200==this.status||304==this.status?(i.remove(),function(e){for(var s=this,a=function(a){var i=e[a].tags;i.length&&i.forEach(function(e){if(t.has(e.name)){var s=t.get(e.name)+","+a.toString();t.set(e.name,s)}else t.set(e.name,a.toString())},s)},i=0;i<e.length;i++)a(i)}(e=JSON.parse(this.responseText))):(i[0].style.display="block",$(".sidebar-tags-name:first").remove())},a.send()}(),$(".sidebar-tags-name:first").on("click",function(s){s.preventDefault();var i=s.target;16&this.compareDocumentPosition(i)&&("SPAN"===i.tagName?this.currTagName=i.firstChild.innerHTML:this.currTagName=i.innerHTML);var n=t.get(this.currTagName);if(n){$(this).find(".sidebar-tag-name-focus").removeClass("sidebar-tag-name-focus");for(var o=this.children,r=0;r<o.length;r++)this.currTagName===o[r].firstChild.innerHTML&&o[r].classList.add("sidebar-tag-name-focus");var d=n.split(","),l=document.createDocumentFragment(),c=document.getElementsByClassName("sidebar-tag-list")[0];c.innerHTML="",d.forEach(function(t){var s,i,n;l.appendChild((s=e[t],i=$('<li class="tag-post-item"><span class="tag-post-date">'+a.archerUtil.dateFormater(new Date(Date.parse(s.date)),"yyyy/MM/dd")+"</span></li>"),n=$('<a class="tag-post-title" href="'+jsInfo.root+s.path+'">'+s.title+"</a>"),i.append(n),i)[0])}),c.appendChild(l)}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={backTop:function(){var e=setInterval(function(){var t=document.body.scrollTop;document.body.scrollTop-=Math.max(Math.ceil(t/9)+2),0===t&&clearInterval(e)},20)},getScrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},getAbsPosition:function(e){for(var t=e.offsetLeft,s=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,s+=e.offsetTop;return{x:t,y:s}},dateFormater:function(e,t){var s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[a]:("00"+s[a]).substr((""+s[a]).length)));return t},toggler:function(e,t,s,a,i,n){e&&"undefined"!=typeof window&&(e===window||e.nodeType)&&s.addEventListener(t,function(t){if(a)for(var s=a.split(/[, ]/),o=s.length;o--;)e.classList.add(s[o]);if(i)for(var r=i.split(/[, ]/),d=r.length;d--;)e.classList.remove(r[d]);n&&n(t)})}};t.archerUtil=s},function(e,t,s){"use strict";var a,i=s(8);(a=i)&&a.__esModule;var n={initBigImg:function(){$(".post-page").find("img").on("click",function(e){var t,s=$(this).prop("src");t=(t='\n            <div class="preview-mask">\n                <img src="PREVIEW_SRC" alt="预览图片">\n            </div>\n        ').replace("PREVIEW_SRC",s),$("body").append($(t))}),$("body").on("click",".preview-mask",function(e){$(this).remove()})}};e.exports=n},function(e,t){"use strict";var s,a={versions:(s=window.navigator.userAgent,{trident:s.indexOf("Trident")>-1,presto:s.indexOf("Presto")>-1,webKit:s.indexOf("AppleWebKit")>-1,gecko:s.indexOf("Gecko")>-1&&-1==s.indexOf("KHTML"),mobile:!!s.match(/AppleWebKit.*Mobile.*/),ios:!!s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:s.indexOf("Android")>-1||s.indexOf("Linux")>-1,iPhone:s.indexOf("iPhone")>-1||s.indexOf("Mac")>-1,iPad:s.indexOf("iPad")>-1,webApp:-1==s.indexOf("Safari"),weixin:-1==s.indexOf("MicroMessenger")})};e.exports=a}]);